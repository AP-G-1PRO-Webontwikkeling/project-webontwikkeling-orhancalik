<%- include('partials/header') %>

<div class="container mt-5">
    <h1 class="mb-4">Edit Expense</h1>
    <form action="/edit-expense/<%= expense._id %>" method="POST" class="needs-validation" novalidate>
        <div class="mb-3">
            <label for="description" class="form-label">Description:</label>
            <input type="text" name="description" class="form-control" id="description" value="<%= expense.description %>" required>
        </div>
        <div class="mb-3">
            <label for="amount" class="form-label">Amount:</label>
            <input type="number" name="amount" class="form-control" id="amount" value="<%= expense.amount %>" step="0.01" required>
        </div>
        <div class="mb-3">
            <label for="currency" class="form-label">Currency:</label>
            <input type="text" name="currency" class="form-control" id="currency" value="<%= expense.currency %>" required>
        </div>
        <div class="mb-3">
            <label for="paymentMethod" class="form-label">Payment Method:</label>
            <input type="text" name="paymentMethod" class="form-control" id="paymentMethod" value="<%= expense.paymentMethod ? expense.paymentMethod.method : '' %>" required>
        </div>
        <div class="mb-3 form-check">
            <input type="checkbox" name="isIncome" class="form-check-input" id="isIncome" <%= expense.isIncoming ? 'checked' : '' %>>
            <label class="form-check-label" for="isIncome">Income</label>
        </div>
        <div class="mb-3">
            <label for="category" class="form-label">Category:</label>
            <input type="text" name="category" class="form-control" id="category" value="<%= expense.category %>" required>
        </div>
        <div class="mb-3">
            <label for="tags" class="form-label">Tags (comma-separated):</label>
            <input type="text" name="tags" class="form-control" id="tags" value="<%= expense.tags ? expense.tags.join(', ') : '' %>">
        </div>
        <div class="mb-3 form-check">
            <input type="checkbox" name="isPaid" class="form-check-input" id="isPaid" <%= expense.isPaid ? 'checked' : '' %>>
            <label class="form-check-label" for="isPaid">Paid</label>
        </div>
        <button type="submit" class="btn btn-primary">Update Expense</button>
    </form>
    <a href="/expenses" class="btn btn-secondary mt-3">Back to Expenses</a>
</div>

<%- include('partials/footer') %>